# Binance 比特幣機器人

此程式是一個基於 Binance API 的比特幣機器人，結合了技術指標計算和 Telegram 機器人，能夠即時發送交易建議和市場訊息。

## 主要功能

### 1. K 線數據獲取
從 Binance API 中獲取 BTC/USDT 的 1 小時 K 線數據，並通過重試機制確保數據獲取成功。

### 2. 技術指標計算
使用移動平均線 (MA) 和相對強弱指數 (RSI) 等技術指標進行數據分析。

### 3. 圖表顯示
使用 Matplotlib 動態顯示比特幣的 K 線圖，每次顯示最近 15 根 K 線，並標示買入、賣出、平倉點位。

### 4. 交易信號發送
根據移動平均線的交叉以及 RSI 的值發出買入或賣出信號，並將信號通過 Telegram 發送給用戶。

### 5. 用戶交互
使用者可以通過控制台或 Telegram 發送 `buy`、`sell` 或 `close` 命令，以記錄操作，方便回測。

### 6. 平倉信號
當某些技術指標達成條件時，發送平倉信號以提醒用戶應當考慮結束當前倉位。

## 使用技術

- **Python 標準庫和第三方庫**：
  - 使用 `Requests` 獲取 API 數據。
  - 使用 `Matplotlib` 進行圖表繪製。
  - 使用 `Telegram` 庫進行消息發送。
  
- **多線程與異步執行**：
  - 利用 Python 的 `Threading` 和 `asyncio` 來同時處理用戶命令、圖表更新以及 Telegram 消息的接收和發送。

## 程式運行過程

1. **初始化 Telegram 機器人**  
   使用給定的 Telegram Token 初始化機器人，並測試機器人是否能成功運行。

2. **獲取 K 線數據並繪圖**  
   每隔 5 秒從 Binance 獲取最新的 1440 根 1 小時 K 線，並將最新數據繪製在圖表上。

3. **計算技術指標**  
   計算 MA30、MA60、MA120 及 RSI14，並根據計算結果判斷市場情況，並發送相應的 Telegram 訊息。

4. **用戶交互**  
   用戶可以通過輸入命令或者 Telegram 指令，來執行買入、賣出和平倉操作，系統會記錄這些操作並顯示在圖表上。

5. **程式結束時發送通知**  
   當用戶關閉程式或者程式崩潰時，通過 Telegram 發送消息以通知程式結束狀態。

## 注意事項

- **風險警告**：  
  此程式僅供學習用途，使用者應在使用前充分了解交易風險，不應使用此程式進行真實資金交易。

- **Telegram 機器人設定**：  
  需要在 Telegram 上創建一個機器人，並獲取其 Token 和 Chat ID 才能正常運行。

## 未來改進方向

- **改進交易策略**：  
  加入更多技術指標如布林帶、MACD 等，以提高交易策略的精準性。

- **多貨幣支持**：  
  擴展為支持多種不同的加密貨幣，增加靈活性。

- **圖表性能優化**：  
  提升圖表繪製的效率，以支持更大數據量和更多的圖表更新。
